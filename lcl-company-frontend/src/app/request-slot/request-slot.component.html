<div class="form-container">
  <form [formGroup]="requestForm" (submit)="submit()">
    <div>
      <div>
        <mat-form-field class="form-field" appearance="outline">
          <mat-label>Buyer</mat-label>
          <input matInput formControlName="buyer" required>
          <mat-error *ngIf="requestForm.controls.buyer.touched || requestForm.controls.buyer.errors.required">
            <span *ngIf="requestForm.controls.buyer.errors.required">This field is mandatory.</span>
          </mat-error>
        </mat-form-field>
        <mat-form-field class="form-field" appearance="outline">
          <mat-label>Supplier</mat-label>
          <input matInput formControlName="supplier" required>
          <mat-error *ngIf="requestForm.controls.supplier.touched || requestForm.controls.supplier.errors.required">
            <span *ngIf="requestForm.controls.supplier.errors.required">This field is mandatory.</span>
          </mat-error>
        </mat-form-field>
        <mat-form-field class="form-field" appearance="outline">
          <mat-label>ArrivalParty</mat-label>
          <input matInput formControlName="arrivalParty" required>
          <mat-error *ngIf="requestForm.controls.arrivalParty.touched || requestForm.controls.arrivalParty.errors.required">
            <span *ngIf="requestForm.controls.arrivalParty.errors.required">This field is mandatory.</span>
          </mat-error>
        </mat-form-field>
      </div>
      <div style="display: block">
        <span class="address" style="margin-right: 50px">
          <p>
            Departure Address
          </p>
          <mat-form-field class="form-field" appearance="outline">
            <mat-label>Street</mat-label>
            <input matInput formControlName="depStreet" required>
            <mat-error *ngIf="requestForm.controls.depStreet.touched || requestForm.controls.depState.errors.required">
              <span *ngIf="requestForm.controls.depStreet.errors.required">This field is mandatory.</span>
            </mat-error>
          </mat-form-field>
          <mat-form-field class="form-field" appearance="outline">
            <mat-label>City</mat-label>
            <input matInput formControlName="depCity" required>
            <mat-error *ngIf="requestForm.controls.depCity.touched || requestForm.controls.depState.errors.required">
              <span *ngIf="requestForm.controls.depCity.errors.required">This field is mandatory.</span>
            </mat-error>
          </mat-form-field>
          <mat-form-field class="form-field" appearance="outline">
            <mat-label>State</mat-label>
            <input matInput formControlName="depState" required>
            <mat-error *ngIf="requestForm.controls.depState.touched || requestForm.controls.depState.errors.required">
              <span *ngIf="requestForm.controls.depState.errors.required">This field is mandatory.</span>
            </mat-error>
          </mat-form-field>
          <mat-form-field class="form-field" appearance="outline">
            <mat-label>Postal Code</mat-label>
            <input matInput formControlName="depPostalCode" required>
            <mat-error *ngIf="requestForm.controls.depPostalCode.touched || requestForm.controls.depState.errors.required">
              <span *ngIf="requestForm.controls.depPostalCode.errors.required">This field is mandatory.</span>
            </mat-error>
          </mat-form-field>
          <mat-form-field class="form-field" appearance="outline">
            <mat-label>Country</mat-label>
            <input matInput formControlName="depCountry" required>
            <mat-error *ngIf="requestForm.controls.depCountry.touched || requestForm.controls.depState.errors.required">
              <span *ngIf="requestForm.controls.depCountry.errors.required">This field is mandatory.</span>
            </mat-error>
          </mat-form-field>
        </span>
        <span class="address">
          <p>
            Arrival Address
          </p>
          <mat-form-field class="form-field" appearance="outline">
            <mat-label>Street</mat-label>
            <input matInput formControlName="arrStreet" required>
            <mat-error *ngIf="requestForm.controls.arrStreet.touched || requestForm.controls.arrState.errors.required">
              <span *ngIf="requestForm.controls.arrStreet.errors.required">This field is mandatory.</span>
            </mat-error>
          </mat-form-field>
          <mat-form-field class="form-field" appearance="outline">
            <mat-label>City</mat-label>
            <input matInput formControlName="arrCity" required>
            <mat-error *ngIf="requestForm.controls.arrCity.touched || requestForm.controls.arrState.errors.required">
              <span *ngIf="requestForm.controls.arrCity.errors.required">This field is mandatory.</span>
            </mat-error>
          </mat-form-field>
          <mat-form-field class="form-field" appearance="outline">
            <mat-label>State</mat-label>
            <input matInput formControlName="arrState" required>
            <mat-error *ngIf="requestForm.controls.arrState.touched || requestForm.controls.arrState.errors.required">
              <span *ngIf="requestForm.controls.arrState.errors.required">This field is mandatory.</span>
            </mat-error>
          </mat-form-field>
          <mat-form-field class="form-field" appearance="outline">
            <mat-label>Postal Code</mat-label>
            <input matInput formControlName="arrPostalCode" required>
            <mat-error *ngIf="requestForm.controls.arrPostalCode.touched || requestForm.controls.arrState.errors.required">
              <span *ngIf="requestForm.controls.arrPostalCode.errors.required">This field is mandatory.</span>
            </mat-error>
          </mat-form-field>
          <mat-form-field class="form-field" appearance="outline">
            <mat-label>Country</mat-label>
            <input matInput formControlName="depCountry" required>
            <mat-error *ngIf="requestForm.controls.arrCountry.touched || requestForm.controls.arrState.errors.required">
              <span *ngIf="requestForm.controls.arrCountry.errors.required">This field is mandatory.</span>
            </mat-error>
          </mat-form-field>
        </span>
      </div>
      <mat-card>
        <mat-accordion *ngIf="requestForm.controls.expectedGoods.value.length > 0">
          <p>
            Expected Goods:
          </p>
          <mat-expansion-panel *ngFor="let good of requestForm.controls.expectedGoods.value" style="display: inline-block; width: 650px">
            <mat-expansion-panel-header>
              <mat-panel-title>
                {{good.identityNumber}}
              </mat-panel-title>
              <mat-panel-description>
                {{good.descriptionOfGoods.quantity}}x {{good.descriptionOfGoods.product}}
              </mat-panel-description>
            </mat-expansion-panel-header>
            <div>
              <div style="display: block">
              <span style="width: 150px; margin-right: 20px">
                Mark:
              </span>
                <span>
                {{good.mark}}
              </span>
              </div>
              <div style="display: block">
              <span style="width: 150px; margin-right: 20px">
                Identity Number:
              </span>
                <span>
                {{good.identityNumber}}
              </span>
              </div>
              <div style="display: block">
              <span style="width: 150px; margin-right: 20px">
                No of Packages:
              </span>
                <span>
                {{good.noOfPackages}}
              </span>
              </div>
              <div style="display: block">
              <span style="width: 150px; margin-right: 20px">
                Description of Goods:
              </span>
                <span>
                {{good.descriptionOfGoods.quantity}}x {{good.descriptionOfGoods.product}}
              </span>
              </div>
              <div style="display: block">
              <span style="width: 150px; margin-right: 20px">
                Net Weight:
              </span>
                <span>
                 {{good.netWeight}}kg
              </span>
              </div>
              <div style="display: block">
              <span style="width: 150px; margin-right: 20px">
                Gross Weight:
              </span>
                <span>
                 {{good.grossWeight}}kg
              </span>
              </div>
              <div style="display: block">
              <span style="width: 150px; margin-right: 20px">
                Measurement:
              </span>
                <span>
                 {{good.measurement}}
              </span>
              </div>
            </div>
          </mat-expansion-panel>
        </mat-accordion>
          <mat-expansion-panel>
            <mat-expansion-panel-header>
              <mat-panel-title>
                Add Item
              </mat-panel-title>
            </mat-expansion-panel-header>
            <form [formGroup]="itemForm" style="margin: 10px 0px">
              <p>
                Add Item
              </p>
              <mat-form-field class="form-field" appearance="outline">
                <mat-label>Mark</mat-label>
                <input matInput formControlName="mark">
              </mat-form-field>
              <mat-form-field class="form-field" appearance="outline">
                <mat-label>Identity Number</mat-label>
                <input matInput formControlName="identityNumber">
              </mat-form-field>
              <mat-form-field class="form-field" appearance="outline">
                <mat-label>No of Packages</mat-label>
                <input matInput formControlName="noOfPackages">
              </mat-form-field>
              <mat-form-field class="form-field" appearance="outline">
                <mat-label>Product</mat-label>
                <input matInput formControlName="descProduct">
              </mat-form-field>
              <mat-form-field class="form-field" appearance="outline">
                <mat-label>Type pf Package</mat-label>
                <input matInput formControlName="descTypeOfPackage">
              </mat-form-field>
              <mat-form-field class="form-field" appearance="outline">
                <mat-label>Quantity</mat-label>
                <input matInput formControlName="descQuantity">
              </mat-form-field>
              <mat-form-field class="form-field" appearance="outline">
                <mat-label>Net Weight</mat-label>
                <input matInput formControlName="netWeight">
              </mat-form-field>
              <mat-form-field class="form-field" appearance="outline">
                <mat-label>Gross Weight</mat-label>
                <input matInput formControlName="grossWeight">
              </mat-form-field>
              <mat-form-field class="form-field" appearance="outline">
                <mat-label>Measurement</mat-label>
                <input matInput formControlName="measurement">
              </mat-form-field>
              <button mat-raised-button color="primary" (click)="addItem()">Add</button>
            </form>
          </mat-expansion-panel>
      </mat-card>
      <button mat-raised-button color="primary" type="submit">Submit</button>
    </div>
  </form>
</div>
